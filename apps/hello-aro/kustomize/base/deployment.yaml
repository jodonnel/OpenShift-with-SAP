apiVersion: apps/v1
kind: Deployment
metadata: { name: hello, labels: { app: hello } }
spec:
  replicas: 1
  selector: { matchLabels: { app: hello } }
  template:
    metadata: { labels: { app: hello } }
    spec:
      securityContext: { runAsNonRoot: true }
      containers:
      - name: hello
        image: registry.access.redhat.com/ubi9/httpd-24:latest
        imagePullPolicy: IfNotPresent
        ports: [{ name: http, containerPort: 8080 }]
        resources:
          requests: { cpu: "50m", memory: "64Mi" }
          limits:   { cpu: "250m", memory: "256Mi" }
        readinessProbe: { httpGet: { path: "/", port: 8080 }, initialDelaySeconds: 2, periodSeconds: 5 }
        livenessProbe:  { httpGet: { path: "/", port: 8080 }, initialDelaySeconds: 10, periodSeconds: 10 }
